// SPDX-License-Identifier: GPL-3.0
pragma solidity ^0.8.17;

import "forge-std/Script.sol";
import { console } from "forge-std/console.sol";
import "./MainnetConstants.s.sol";
import { IMorpho } from "morpho-blue/interfaces/IMorpho.sol";

contract MorphoLiquidate is Script, MainnetConstants {
    function run() external {
        uint256 deployerPrivateKey = vm.envUint("KEEPER_PRIVATE_KEY");
        address deployer = vm.addr(deployerPrivateKey);
        vm.startBroadcast(deployerPrivateKey);

        (bool success, bytes memory result) = MORPHO_BLUE.call(
            hex"d8eabcb80000000000000000000000000000206329b97db379d5e1bf586bbdb969c63274000000000000000000000000c69ad9bab1dee23f4605a82b3354f8e40d1e59660000000000000000000000007d8c8082e610bdff6a2e2b1a7c81ed5a6309e4ca000000000000000000000000870ac11d48b15db9a138cf899d20f13f79ba00bc0000000000000000000000000000000000000000000000000bef55718ad60000000000000000000000000000a9ddd91249dfdd450e81e1c56ab60e1a62651701000000000000000000000000000000000000000000000000002386f26fc10000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001200000000000000000000000000000000000000000000000000000000000000720000000000000000000000000a9bbbdde822789f123667044443dc7001fb43c01000000000000000000000000000000000000000000000001158e460d5de4f64a0000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000006800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a9bbbdde822789f123667044443dc7001fb43c010000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000000000235978e783e00000000000000000000000000000000000000000000000000000235978e783e00000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e000000000000000000000000000000000000000000000000000000000000005c00000000000000000000000000000000000000000000000000000000000000001000000000000000000000000cd5fe23c85820f7b72d0926fc9b05b43e359b7ee000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000480000000000000000000000000cd5fe23c85820f7b72d0926fc9b05b43e359b7ee000000000000000000000000000000000000000000000001c62b7ae04ef2a3be000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000003e807ed2379000000000000000000000000e37e799d5077682fa0a244d46e5649f71457bd09000000000000000000000000cd5fe23c85820f7b72d0926fc9b05b43e359b7ee0000000000000000000000000000206329b97db379d5e1bf586bbdb969c63274000000000000000000000000e37e799d5077682fa0a244d46e5649f71457bd09000000000000000000000000e161ea4516b8df0ef7b8d59c9fef5ae5839f826f000000000000000000000000000000000000000000000000002101f5b89572d2000000000000000000000000000000000000000000000001cee0bbbf28969c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000000000000000000000000028700000000000000000000000000000000000000000000000000026900023b00a007e5c0d200000000000000000000000000000000000000021700012700008b00004f02a00000000000000000000000000000000000000000000000000021c4073935b5deee63c1e5007a415b19932c0105c82fdb6b720bb01b0cc2cae3cd5fe23c85820f7b72d0926fc9b05b43e359b7ee4101c02aaa39b223fe8d0a0e5c4f27ead9083c756cc200042e1a7d4d00000000000000000000000000000000000000000000000000000000000000004160e68c1d72340aeefe5be76eda63ae2f4bc75141100044fe0291560000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a0b86991c6218b36c1d19d4a2e9eb0ce3606eb4800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001fcf0895120222222fd79264bbe280b4986f6fefbc3524d0137a0b86991c6218b36c1d19d4a2e9eb0ce3606eb4800043b6a1fe000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a0b86991c6218b36c1d19d4a2e9eb0ce3606eb480000000000000000000000000000206329b97db379d5e1bf586bbdb969c63274000000000000000000000000111111125421ca6dc452d289314280a0f8842a6500000000000000000000000000000000000000000000000000000000000000000020d6bdbf780000206329b97db379d5e1bf586bbdb969c63274111111125421ca6dc452d289314280a0f8842a6500000000000000000000000000000000000000000000000000f737be460000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000002101f5b89572d2"
        );

        vm.stopBroadcast();
    }
}
